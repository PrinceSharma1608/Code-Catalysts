<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>SPARK Student Dashboard</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Arial', sans-serif;
        }

        body.light-mode {
            --bg-color: #f0f2f5;
            --text-color: #333;
            --sidebar-bg: #fff;
            --tile-bg: #fff;
        }

        body.dark-mode {
            --bg-color: #1e1e1e;
            --text-color: #f0f0f0;
            --sidebar-bg: #333;
            --tile-bg: #444;
        }

        body {
            display: flex;
            background-color: var(--bg-color);
            color: var(--text-color);
            min-height: 100vh;
        }

        .sidebar {
            width: 250px;
            background-color: var(--sidebar-bg);
            padding: 1rem;
        }

        .sidebar .top {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 2rem;
        }

        .sidebar nav a {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            padding: 0.8rem;
            text-decoration: none;
            color: var(--text-color);
            cursor: pointer;
        }

        .sidebar nav a:hover {
            background-color: #007BFF;
            color: #fff;
        }

        .main-content {
            flex-grow: 1;
            padding: 2rem;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .university {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: bold;
            font-size: 1.2rem;
        }

        .university img {
            width: 24px;
            height: 24px;
        }

        #theme-toggle {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
        }

        .section {
            display: none;
        }

        .section.active {
            display: block;
        }

        .tiles {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 1.5rem;
        }

        .tile {
            background-color: var(--tile-bg);
            height: 160px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            transition: transform 0.3s;
            cursor: pointer;
            position: relative;
        }

        .tile:hover {
            transform: translateY(-5px);
        }

        .form-tile {
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
            max-width: 500px;
            margin: auto;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            background-color: var(--tile-bg);
        }

        .form-tile input, .form-tile select, .form-tile textarea {
            padding: 0.6rem;
            border-radius: 5px;
            border: 1px solid #ccc;
            background-color: var(--bg-color);
            color: var(--text-color);
        }

        .form-tile button {
            padding: 0.6rem 1rem;
            background-color: #007BFF;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 5px;
        }

        .achievement-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            padding: 1rem;
            background-color: var(--tile-bg);
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 400px;
            position: relative; /* needed for verification label */
        }

        .achievement-item img {
            display: block;
            width: 100%;
            max-width: 250px;
            height: auto;
            object-fit: contain;
            border-radius: 5px;
            margin-bottom: 0.5rem;
            background-color: #fff;
        }

        .verification-label {
            position: absolute;
            bottom: 5px;
            right: 10px;
            color: red;
            font-weight: bold;
            font-size: 0.9rem;
        }

        .log-entry {
            background-color: var(--tile-bg);
            padding: 1rem;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            margin-bottom: 1rem;
        }

        .profile-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 800px;
            margin: auto;
            background-color: var(--tile-bg);
            border-radius: 10px;
            padding: 1rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .profile-info {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .profile-info div {
            font-size: 1rem;
        }

        .profile-content img {
            width: 150px;
            height: 150px;
            border-radius: 50%;
        }
    </style>
</head>

<body class="light-mode">

    <div class="sidebar">
        <div class="top">
            <h2>SPARK</h2>
        </div>

        <nav id="nav-links">
            <a onclick="showSection('dashboard')">üè† <span>Dashboard</span></a>
            <a onclick="showSection('add-achievement')">üìÅ <span>Add Achievement</span></a>
            <a onclick="showSection('activity')">üìù <span>Activity</span></a>
            <a onclick="showSection('all-achievements')">üìö <span>All Achievements</span></a>
            <a onclick="showSection('profile')">üë§ <span>Profile</span></a>
            <a onclick="showSection('feedback')">üí¨ <span>Feedback</span></a>
        </nav>
    </div>

    <div class="main-content">
        <div class="header">
            <div class="university">
                <img src="https://cdn-icons-png.flaticon.com/512/1995/1995510.png" alt="University Icon"/>
                <span>Manipal University Jaipur</span>
            </div>
            <button id="theme-toggle">üåû / üåô</button>
        </div>

        <div id="dashboard" class="section active">
            <div class="tiles">
                <div class="tile" id="tile-Seminar" onclick="showCertificates('Seminar')">Seminars <br><strong>0</strong></div>
                <div class="tile" id="tile-Workshop" onclick="showCertificates('Workshop')">Volunteer Activity <br><strong>0</strong></div>
                <div class="tile" id="tile-Internship" onclick="showCertificates('Internship')">Internship <br><strong>0</strong></div>
                <div class="tile" id="tile-Certification" onclick="showCertificates('Certification')">Certifications <br><strong>0</strong></div>
                <div class="tile" id="tile-Conference" onclick="showCertificates('Conference')">Conferences <br><strong>0</strong></div>
                <div class="tile" id="tile-Other" onclick="showCertificates('Other')">Extra Curricular <br><strong>0</strong></div>
            </div>
        </div>

        <div id="add-achievement" class="section">
            <div class="form-tile">
                <input type="text" id="cert-name" placeholder="Certificate Name" required />
                <input type="text" id="cert-org" placeholder="Issuing Organization" required />
                <select id="cert-type">
                    <option value="">Select Certificate Type</option>
                    <option value="Seminar">Seminar</option>
                    <option value="Workshop">Workshop</option>
                    <option value="Internship">Internship</option>
                    <option value="Certification">Certification</option>
                    <option value="Conference">Conference</option>
                    <option value="Other">Other</option>
                </select>
                <input type="file" id="cert-image" accept="image/*" required />
                <button onclick="addAchievement()">Upload Achievement</button>
            </div>

            <div class="tiles" id="achievements-list"></div>
        </div>

        <div id="activity" class="section">
            <div class="tiles" id="activity-log"></div>
        </div>

        <div id="all-achievements" class="section">
            <div class="tiles" id="all-achievements-list"></div>
        </div>

        <div id="category-certificates" class="section">
            <h3>Certificates in this Category</h3>
            <div class="tiles" id="category-cert-list"></div>
        </div>

        <div id="profile" class="section">
            <div class="profile-content">
                <div class="profile-info">
                    <div><strong>Name:</strong> Prince Sharma</div>
                    <div><strong>University:</strong> Manipal University Jaipur</div>
                    <div><strong>Email:</strong> prince@example.com</div>
                    <div><strong>Contact:</strong> +91-9876543210</div>
                    <div><strong>ID:</strong> 1234567890</div>
                </div>
                <img src="https://via.placeholder.com/150" alt="Dummy Profile"/>
            </div>
        </div>

        <div id="feedback" class="section">
            <div class="form-tile">
                <input type="text" id="feedback-name" placeholder="Your Name" required />
                <input type="email" id="feedback-email" placeholder="Your Email" required />
                <textarea id="feedback-message" rows="5" placeholder="Your Feedback..." required></textarea>
                <button onclick="submitFeedback()">Submit Feedback</button>
            </div>
            <div class="tiles" id="feedback-log"></div>
        </div>
    </div>

    <script>
        const themeToggle = document.getElementById('theme-toggle');
        const body = document.body;
        const universityIcon = document.querySelector('.university img');
        const achievementsList = document.getElementById('achievements-list');
        const activityLog = document.getElementById('activity-log');
        const allAchievementsList = document.getElementById('all-achievements-list');
        const categoryCertList = document.getElementById('category-cert-list');
        const feedbackLog = document.getElementById('feedback-log');

        let achievementCounter = 0;
        const achievements = [];
        const categoryCounters = {
            Seminar: 0,
            Workshop: 0,
            Internship: 0,
            Certification: 0,
            Conference: 0,
            Other: 0
        };

        themeToggle.addEventListener('click', () => {
            body.classList.toggle('dark-mode');
            body.classList.toggle('light-mode');

            if (body.classList.contains('dark-mode')) {
                universityIcon.src = 'https://cdn-icons-png.flaticon.com/512/3062/3062634.png';
            } else {
                universityIcon.src = 'https://cdn-icons-png.flaticon.com/512/1995/1995510.png';
            }
        });

        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(sec => sec.classList.remove('active'));
            document.getElementById(sectionId).classList.add('active');
        }

        function addAchievement() {
            const name = document.getElementById('cert-name').value;
            const org = document.getElementById('cert-org').value;
            const type = document.getElementById('cert-type').value;
            const imageInput = document.getElementById('cert-image');
            const imageFile = imageInput.files[0];

            if (!name || !org || !type || !imageFile) {
                alert('Please fill all fields and upload an image.');
                return;
            }

            const reader = new FileReader();
            reader.onload = function(e) {
                const imgSrc = e.target.result;

                achievementCounter++;
                const timestamp = new Date().toLocaleString();

                const achievement = {
                    id: achievementCounter,
                    name,
                    org,
                    type,
                    timestamp,
                    imgSrc
                };

                achievements.push(achievement);

                const achievementItem = document.createElement('div');
                achievementItem.className = 'achievement-item';
                achievementItem.innerHTML = `
                    <img src="${imgSrc}" alt="Certificate Image"/>
                    <strong>${name}</strong>
                    <div><em>${org}</em></div>
                    <small>${type}</small>
                    <div class="verification-label">Yet To Be Verified</div>
                `;
                achievementsList.appendChild(achievementItem);

                const logEntry = document.createElement('div');
                logEntry.className = 'log-entry';
                logEntry.textContent = `[${timestamp}] Uploaded Achievement: "${name}" from ${org} (${type})`;
                activityLog.prepend(logEntry);

                categoryCounters[type]++;
                const tile = document.getElementById(`tile-${type}`);
                tile.innerHTML = `${type}s <br><strong>${categoryCounters[type]}</strong>`;

                const allAchievementItem = document.createElement('div');
                allAchievementItem.className = 'log-entry';
                allAchievementItem.innerHTML = `
                    <strong>${achievementCounter}.</strong> 
                    ID: #${achievementCounter.toString().padStart(4, '0')} | 
                    <strong>Name:</strong> ${name} | 
                    <strong>Issued By:</strong> ${org} | 
                    <strong>Type:</strong> ${type} | 
                    <strong>Date:</strong> ${timestamp}
                `;
                allAchievementsList.prepend(allAchievementItem);

                document.getElementById('cert-name').value = '';
                document.getElementById('cert-org').value = '';
                document.getElementById('cert-type').value = '';
                imageInput.value = '';
            };

            reader.readAsDataURL(imageFile);
        }

        function showCertificates(category) {
            categoryCertList.innerHTML = '';

            const filtered = achievements.filter(a => a.type === category);

            if (filtered.length === 0) {
                categoryCertList.innerHTML = `<p>No certificates uploaded in ${category}</p>`;
            } else {
                filtered.forEach(a => {
                    const tile = document.createElement('div');
                    tile.className = 'tile';
                    tile.innerHTML = `
                        <strong>${a.name}</strong><br>
                        <small>${a.timestamp}</small>
                    `;
                    categoryCertList.appendChild(tile);
                });
            }

            showSection('category-certificates');
        }

        function submitFeedback() {
            const name = document.getElementById('feedback-name').value;
            const email = document.getElementById('feedback-email').value;
            const message = document.getElementById('feedback-message').value;

            if (!name || !email || !message) {
                alert('Please fill all fields before submitting.');
                return;
            }

            const timestamp = new Date().toLocaleString();

            const logEntry = document.createElement('div');
            logEntry.className = 'log-entry';
            logEntry.innerHTML = `
                <strong>${name}</strong> (${email})<br>
                <em>${timestamp}</em><br>
                ${message}
            `;

            feedbackLog.prepend(logEntry);

            document.getElementById('feedback-name').value = '';
            document.getElementById('feedback-email').value = '';
            document.getElementById('feedback-message').value = '';

            alert('Thank you for your feedback!');
        }
    </script>

</body>

</html>
